{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport styled from 'styled-components';\nimport { firestoreDb, auth } from \"../firebase\";\nimport { collection, addDoc, getDocs } from 'firebase/firestore';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar CardItem = styled.View(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n\\twidth: 100%;\\n\\theight: 300px;\\n\\tbackground-color: white;\\n\\tmargin-bottom: 20px;\\n\\tborder-radius: 35px;\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\talign-items: flex-start;\\n\\tpadding: 0 50px 0 15px;\\n\"])));\nvar ButtonCont = styled.View(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"\\n\\twidth: 100%;\\n\\tmargin-top: 25px;\\n\\tdisplay: flex;\\n\\tjustify-content: space-between;\\n\\tflex-direction: row;\\n\"])));\nvar Title = styled.Text(_templateObject3 || (_templateObject3 = _taggedTemplateLiteralLoose([\"\\n\\tfont-size: 25px;\\n\\tcolor: #505050;\\n\\tfont-weight: bold;\\n\"])));\nvar Desc = styled.Text(_templateObject4 || (_templateObject4 = _taggedTemplateLiteralLoose([\"\\n\\tfont-size: 15px;\\n\\tcolor: #7E7E7E;\\n\"])));\nvar Price = styled.Text(_templateObject5 || (_templateObject5 = _taggedTemplateLiteralLoose([\"\\n\\tfont-size: 30px;\\n\\tcolor: #505050;\\n\\tfont-weight: bold;\\n\"])));\nvar AddtoCart = styled.TouchableOpacity(_templateObject6 || (_templateObject6 = _taggedTemplateLiteralLoose([\"\\n\\tbackground-color: orange;\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\talign-items: center;\\n\\tpadding: 0 25px;\\n\\tborder-radius: 10px;\\n\"])));\nvar CartBtnText = styled.Text(_templateObject7 || (_templateObject7 = _taggedTemplateLiteralLoose([\"\\n\\tfont-size: 15px;\\n\\tcolor: white;\\n\\tfont-weight: bold;\\n\"])));\n\nvar ItemCard = function ItemCard() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      Res = _useState2[0],\n      setRes = _useState2[1];\n\n  useEffect(function () {\n    ReadData();\n  }, []);\n  var arr = [];\n\n  var ReadData = function ReadData() {\n    var querySnapshot;\n    return _regeneratorRuntime.async(function ReadData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(getDocs(collection(firestoreDb, 'products')));\n\n          case 2:\n            querySnapshot = _context.sent;\n            querySnapshot.forEach(function (doc) {\n              arr.push(doc.data());\n            });\n            setRes(arr);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var InsertInCart = function InsertInCart(name, price) {\n    var docRef;\n    return _regeneratorRuntime.async(function InsertInCart$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(addDoc(collection(firestoreDb, 'cart'), {\n              name: name,\n              price: price\n            }));\n\n          case 3:\n            docRef = _context2.sent;\n            console.log('Document added to cart: ', docRef.id);\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  return _jsx(_Fragment, {\n    children: Res.map(function (obj, i) {\n      return _jsxs(CardItem, {\n        children: [_jsx(Title, {\n          children: obj.name\n        }), _jsx(Desc, {\n          children: obj.description\n        }), _jsxs(ButtonCont, {\n          children: [_jsxs(Price, {\n            children: [\"$\", obj.price]\n          }), _jsx(AddtoCart, {\n            onPress: function onPress() {\n              return InsertInCart(obj.name, obj.price);\n            },\n            children: _jsx(CartBtnText, {\n              children: \"Add To Cart\"\n            })\n          })]\n        })]\n      }, i);\n    })\n  });\n};\n\nexport default ItemCard;","map":{"version":3,"sources":["D:/react native apps/saad app/saadApp/components/itemCard.js"],"names":["React","useState","useEffect","styled","firestoreDb","auth","collection","addDoc","getDocs","CardItem","View","ButtonCont","Title","Text","Desc","Price","AddtoCart","TouchableOpacity","CartBtnText","ItemCard","Res","setRes","ReadData","arr","querySnapshot","forEach","doc","push","data","InsertInCart","name","price","docRef","console","log","id","map","obj","i","description"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;;;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,WAAT,EAAsBC,IAAtB;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,OAA7B,QAA4C,oBAA5C;;;;AAEA,IAAMC,QAAQ,GAAGN,MAAM,CAACO,IAAV,+RAAd;AAYA,IAAMC,UAAU,GAAGR,MAAM,CAACO,IAAV,gMAAhB;AAQA,IAAME,KAAK,GAAGT,MAAM,CAACU,IAAV,2IAAX;AAKA,IAAMC,IAAI,GAAGX,MAAM,CAACU,IAAV,qHAAV;AAKA,IAAME,KAAK,GAAGZ,MAAM,CAACU,IAAV,2IAAX;AAMA,IAAMG,SAAS,GAAGb,MAAM,CAACc,gBAAV,6NAAf;AASA,IAAMC,WAAW,GAAGf,MAAM,CAACU,IAAV,yIAAjB;;AAMA,IAAMM,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACtB,kBAAwBlB,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAQmB,GAAR;AAAA,MAAaC,MAAb;;AAEAnB,EAAAA,SAAS,CAAC,YAAM;AACfoB,IAAAA,QAAQ;AACR,GAFQ,EAEN,EAFM,CAAT;AAIA,MAAMC,GAAG,GAAG,EAAZ;;AAEA,MAAMD,QAAQ,GAAG,SAAXA,QAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACYd,OAAO,CAACF,UAAU,CAACF,WAAD,EAAc,UAAd,CAAX,CADnB;;AAAA;AACVoB,YAAAA,aADU;AAEhBA,YAAAA,aAAa,CAACC,OAAd,CAAsB,UAACC,GAAD,EAAS;AAE9BH,cAAAA,GAAG,CAACI,IAAJ,CAASD,GAAG,CAACE,IAAJ,EAAT;AACA,aAHD;AAIMP,YAAAA,MAAM,CAACE,GAAD,CAAN;;AANU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AASA,MAAMM,YAAY,GAAG,SAAfA,YAAe,CAAOC,IAAP,EAAaC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAIExB,MAAM,CAACD,UAAU,CAACF,WAAD,EAAc,MAAd,CAAX,EAAkC;AAC5D0B,cAAAA,IAAI,EAAJA,IAD4D;AAE5DC,cAAAA,KAAK,EAALA;AAF4D,aAAlC,CAJR;;AAAA;AAIbC,YAAAA,MAJa;AAQnBC,YAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCF,MAAM,CAACG,EAA/C;AARmB;AAAA;;AAAA;AAAA;AAAA;AAUlBF,YAAAA,OAAO,CAACC,GAAR;;AAVkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArB;;AAgBA,SACO;AAAA,cACCd,GAAG,CAACgB,GAAJ,CAAQ,UAACC,GAAD,EAAMC,CAAN;AAAA,aACL,MAAC,QAAD;AAAA,mBACI,KAAC,KAAD;AAAA,oBAAQD,GAAG,CAACP;AAAZ,UADJ,EAEI,KAAC,IAAD;AAAA,oBAAOO,GAAG,CAACE;AAAX,UAFJ,EAGR,MAAC,UAAD;AAAA,qBACA,MAAC,KAAD;AAAA,4BAASF,GAAG,CAACN,KAAb;AAAA,YADA,EAEA,KAAC,SAAD;AAAW,YAAA,OAAO,EAAE;AAAA,qBAAMF,YAAY,CAACQ,GAAG,CAACP,IAAL,EAAWO,GAAG,CAACN,KAAf,CAAlB;AAAA,aAApB;AAAA,sBACC,KAAC,WAAD;AAAA;AAAA;AADD,YAFA;AAAA,UAHQ;AAAA,SAAeO,CAAf,CADK;AAAA,KAAR;AADD,IADP;AAgBA,CAlDD;;AAoDA,eAAenB,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { StyleSheet, Text, TextInput, View, TouchableOpacity } from 'react-native';\r\nimport styled from 'styled-components';\r\nimport { firestoreDb, auth } from '../firebase';\r\nimport { collection, addDoc, getDocs } from 'firebase/firestore';\r\n\r\nconst CardItem = styled.View`\r\n\twidth: 100%;\r\n\theight: 300px;\r\n\tbackground-color: white;\r\n\tmargin-bottom: 20px;\r\n\tborder-radius: 35px;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: flex-start;\r\n\tpadding: 0 50px 0 15px;\r\n`;\r\n\r\nconst ButtonCont = styled.View`\r\n\twidth: 100%;\r\n\tmargin-top: 25px;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tflex-direction: row;\r\n`\r\n\r\nconst Title = styled.Text`\r\n\tfont-size: 25px;\r\n\tcolor: #505050;\r\n\tfont-weight: bold;\r\n`\r\nconst Desc = styled.Text`\r\n\tfont-size: 15px;\r\n\tcolor: #7E7E7E;\r\n`\r\n\r\nconst Price = styled.Text`\r\n\tfont-size: 30px;\r\n\tcolor: #505050;\r\n\tfont-weight: bold;\r\n`\r\n\r\nconst AddtoCart = styled.TouchableOpacity`\r\n\tbackground-color: orange;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tpadding: 0 25px;\r\n\tborder-radius: 10px;\r\n`\r\n\r\nconst CartBtnText = styled.Text`\r\n\tfont-size: 15px;\r\n\tcolor: white;\r\n\tfont-weight: bold;\r\n`\r\n\r\nconst ItemCard = () => {\r\n\tconst [ Res, setRes ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tReadData();\r\n\t}, []);\r\n\r\n\tconst arr = [];\r\n\r\n\tconst ReadData = async () => {\r\n\t\tconst querySnapshot = await getDocs(collection(firestoreDb, 'products'));\r\n\t\tquerySnapshot.forEach((doc) => {\r\n\t\t\t// doc.data() is never undefined for query doc snapshots\r\n\t\t\tarr.push(doc.data());\r\n\t\t});\r\n        setRes(arr);\r\n\t};\r\n\r\n\tconst InsertInCart = async (name, price) => {\r\n\r\n\r\n\t\t try {\t \r\n\t\t\tconst docRef = await addDoc(collection(firestoreDb, 'cart'), {\r\n\t\t\t\tname,\r\n\t\t\t\tprice\r\n\t\t\t});\r\n\t\t\tconsole.log('Document added to cart: ', docRef.id);\r\n\t\t } catch (error) {\r\n\t\t\t console.log(error);\r\n\t\t }\r\n\t};\r\n\r\n\r\n\r\n\treturn (\r\n        <>\r\n        {Res.map((obj, i) => (\r\n            <CardItem key={i}>\r\n                <Title>{obj.name}</Title>\r\n                <Desc>{obj.description}</Desc>\r\n\t\t\t\t<ButtonCont>\r\n\t\t\t\t<Price>${obj.price}</Price>\r\n\t\t\t\t<AddtoCart onPress={() => InsertInCart(obj.name, obj.price)}>\r\n\t\t\t\t\t<CartBtnText>Add To Cart</CartBtnText>\r\n\t\t\t\t</AddtoCart>\r\n\t\t\t\t</ButtonCont>\r\n            </CardItem>\r\n        ))}\r\n        </>\r\n\t);\r\n};\r\n\r\nexport default ItemCard;\r\n"]},"metadata":{},"sourceType":"module"}